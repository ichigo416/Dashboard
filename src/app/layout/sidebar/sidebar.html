<div class="border-end bg-white sidebar h-100 d-flex flex-column">

  <div class="p-4 fw-bold text-primary fs-4">
    TailAdmin
  </div>

  <ul class="nav flex-column px-3 gap-1">

    <!-- DASHBOARD (ADMIN) -->
    <li class="nav-item" *ngIf="role === 'admin'">
      <a
        routerLink="/dashboard"
        routerLinkActive="active"
        class="nav-link d-flex align-items-center"
      >
        <i class="bi bi-grid me-2"></i>
        Dashboard
      </a>
    </li>

    <!-- DASHBOARD (CUSTOMER) -->
    <li class="nav-item" *ngIf="role === 'customer'">
      <a
        routerLink="/customer-dashboard"
        routerLinkActive="active"
        class="nav-link d-flex align-items-center"
      >
        <i class="bi bi-grid me-2"></i>
        Dashboard
      </a>
    </li>

    <!-- Customers (ADMIN ONLY) -->
    <li class="nav-item" *ngIf="role === 'admin'">
      <a
        class="nav-link d-flex align-items-center justify-content-between"
        (click)="toggleDropdown('customers')"
      >
        <span class="d-flex align-items-center">
          <i class="bi bi-people me-2"></i>
          Customers
        </span>
        <i
          class="bi"
          [class.bi-chevron-up]="openDropdown === 'customers'"
          [class.bi-chevron-down]="openDropdown !== 'customers'"
        ></i>
      </a>

      <ul class="nav flex-column ms-4 mt-2" *ngIf="openDropdown === 'customers'">
        <li class="nav-item">
          <a routerLink="/customers/add" class="nav-link">Add Customer</a>
        </li>
        <li class="nav-item">
          <a routerLink="/customers/manage" class="nav-link">Manage Customers</a>
        </li>
      </ul>
    </li>

    <!-- Calendar (ADMIN + CUSTOMER) -->
    <li class="nav-item" *ngIf="role === 'admin' || role === 'customer'">
      <a
        routerLink="/calendar"
        routerLinkActive="active"
        class="nav-link d-flex align-items-center"
      >
        <i class="bi bi-calendar me-2"></i>
        Calendar
      </a>
    </li>

    <!-- User Profile (ADMIN ONLY) -->
    <li class="nav-item" *ngIf="role === 'admin'">
      <a routerLink="/profile" class="nav-link d-flex align-items-center">
        <i class="bi bi-person me-2"></i>
        User Profile
      </a>
    </li>

    <!-- Forms (ADMIN ONLY) -->
    <li class="nav-item" *ngIf="role === 'admin'">
      <a
        class="nav-link d-flex align-items-center justify-content-between"
        (click)="toggleDropdown('forms')"
      >
        <span class="d-flex align-items-center">
          <i class="bi bi-card-text me-2"></i>
          Forms
        </span>
        <i
          class="bi"
          [class.bi-chevron-up]="isOpen('forms')"
          [class.bi-chevron-down]="!isOpen('forms')"
        ></i>
      </a>

      <ul class="nav flex-column ms-4 mt-2" *ngIf="isOpen('forms')">
        <li class="nav-item">
          <a routerLink="/forms/elements" class="nav-link">Form Elements</a>
        </li>
      </ul>
    </li>

    <!-- Tables (ADMIN ONLY) -->
    <li class="nav-item" *ngIf="role === 'admin'">
      <a
        class="nav-link d-flex align-items-center justify-content-between"
        (click)="toggleDropdown('tables')"
      >
        <span class="d-flex align-items-center">
          <i class="bi bi-table me-2"></i>
          Tables
        </span>
        <i
          class="bi"
          [class.bi-chevron-up]="isOpen('tables')"
          [class.bi-chevron-down]="!isOpen('tables')"
        ></i>
      </a>

      <ul class="nav flex-column ms-4 mt-2" *ngIf="isOpen('tables')">
        <li class="nav-item">
          <a routerLink="/tables/basic" class="nav-link">Basic Tables</a>
        </li>
      </ul>
    </li>

    <!-- Charts (ADMIN ONLY) -->
    <li class="nav-item" *ngIf="role === 'admin'">
      <a
        class="nav-link d-flex align-items-center justify-content-between"
        (click)="toggleDropdown('charts')"
      >
        <span class="d-flex align-items-center">
          <i class="bi bi-pie-chart me-2"></i>
          Charts
        </span>
        <i
          class="bi"
          [class.bi-chevron-up]="isOpen('charts')"
          [class.bi-chevron-down]="!isOpen('charts')"
        ></i>
      </a>

      <ul class="nav flex-column ms-4 mt-2" *ngIf="isOpen('charts')">
        <li class="nav-item">
          <a routerLink="/charts/line" class="nav-link">Line Chart</a>
        </li>
        <li class="nav-item">
          <a routerLink="/charts/bar" class="nav-link">Bar Chart</a>
        </li>
      </ul>
    </li>

    <!-- UI Elements (ADMIN ONLY) -->
    <li class="nav-item" *ngIf="role === 'admin'">
      <a
        class="nav-link d-flex align-items-center justify-content-between"
        (click)="toggleDropdown('ui')"
      >
        <span class="d-flex align-items-center">
          <i class="bi bi-box me-2"></i>
          UI Elements
        </span>
        <i
          class="bi"
          [class.bi-chevron-up]="isOpen('ui')"
          [class.bi-chevron-down]="!isOpen('ui')"
        ></i>
      </a>

      <ul class="nav flex-column ms-4 mt-2" *ngIf="isOpen('ui')">
        <li class="nav-item"><a routerLink="/ui/alerts" class="nav-link">Alerts</a></li>
        <li class="nav-item"><a routerLink="/ui/avatars" class="nav-link">Avatars</a></li>
        <li class="nav-item"><a routerLink="/ui/badges" class="nav-link">Badges</a></li>
        <li class="nav-item"><a routerLink="/ui/buttons" class="nav-link">Buttons</a></li>
        <li class="nav-item"><a routerLink="/ui/images" class="nav-link">Images</a></li>
        <li class="nav-item"><a routerLink="/ui/videos" class="nav-link">Videos</a></li>
      </ul>
    </li>

    <!-- Authentication (ADMIN ONLY) -->
    <li class="nav-item" *ngIf="role === 'admin'">
      <a
        class="nav-link d-flex align-items-center justify-content-between"
        (click)="toggleDropdown('auth')"
      >
        <span class="d-flex align-items-center">
          <i class="bi bi-plug me-2"></i>
          Authentication
        </span>
        <i
          class="bi"
          [class.bi-chevron-up]="isOpen('auth')"
          [class.bi-chevron-down]="!isOpen('auth')"
        ></i>
      </a>

      <ul class="nav flex-column ms-4 mt-2" *ngIf="isOpen('auth')">
        <li class="nav-item">
          <a routerLink="/auth/signin" class="nav-link">Sign In</a>
        </li>
        <li class="nav-item">
          <a routerLink="/auth/signup" class="nav-link">Sign Up</a>
        </li>
      </ul>
    </li>

  </ul>
</div>
